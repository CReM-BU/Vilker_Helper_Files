
```{r Libraries}
library(Seurat)
source("seuratAnnDataConversions.R")
```

```{r Set Conda Environment}
# Choose conda environment if desired (use ls -a in bash to see hidden directories and files, such as .conda)
condaEnvironment <- "/restricted/projectnb/crem-trainees/Kotton_Lab/Eitan/.conda/envs/KottonLab"
# condaEnvironment <- "/restricted/projectnb/crem-trainees/Kotton_Lab/Eitan/.conda/envs/scTOP"
```

```{r Seurat to AnnData - Rds using filename, output file unspecified}
riemondyInput <- "/restricted/projectnb/crem-trainees/Kotton_Lab/Eitan/Riemondy/Riemondy.Rds"
success <- convertSeuratToAnnData(condaEnvironment=condaEnvironment, type="Rds", inputFile=riemondyInput)
```

```{r Seurat to AnnData - h5seurat using filename}
kathiriyaInput <- "/restricted/projectnb/crem-trainees/Kotton_Lab/Eitan/Kathiriya/Kathiriya.h5seurat"
kathiriyaOutput <- "/restricted/projectnb/crem-trainees/Kotton_Lab/Eitan/Kathiriya/Kathiriya.h5ad"
success <- convertSeuratToAnnData(condaEnvironment=condaEnvironment, type="h5seurat", inputFile=kathiriyaInput, assay="spliced")
```

```{r Seurat to AnnData - loaded Rds object}
Vannan <- readRDS("/restricted/projectnb/crem-trainees/Kotton_Lab/Eitan/VannanSpatialIPF/Vannan.rds")
vannanOutput <- "/restricted/projectnb/crem-trainees/Kotton_Lab/Eitan/VannanSpatialIPF/VannanRNA.h5ad"
success <- convertSeuratToAnnData(seuratObj=Vannan, condaEnvironment=condaEnvironment, type="rds", outputFile=vannanOutput, assay="RNA")

# With a different assay
vannanOutput <- "/restricted/projectnb/crem-trainees/Kotton_Lab/Eitan/VannanSpatialIPF/VannanNiche.h5ad"
success <- convertSeuratToAnnData(seuratObj=Vannan, condaEnvironment=condaEnvironment, type="rds", outputFile=vannanOutput, assay="niche")
```

```{r AnnData to Seurat}
input <- "/restricted/projectnb/crem-trainees/Kotton_Lab/Eitan/OutsidePaperObjects/AnnData/Habermann.h5ad"
output <- "/restricted/projectnb/crem-trainees/Kotton_Lab/Eitan/OutsidePaperObjects/Seurat/Habermann.rds"
convertAnnDataToSeurat(input, output, condaEnvironment=condaEnvironment)
```

```{r CurrentUsage}
# lauren <- readRDS("/restricted/projectnb/crem-trainees/Kotton_Lab/Lauren/25_06_24_lauren_RDS/RNA_082825.rds")
# laurenInput <- "/restricted/projectnb/crem-trainees/Kotton_Lab/Eitan/Lauren/objects/Lauren_06_24_25.rds"
# planerOutput <- "/restricted/projectnb/crem-trainees/Kotton_Lab/Eitan/Lauren/objects/Planer.h5ad"
planerOutput <- "/restricted/projectnb/crem-trainees/Kotton_Lab/Eitan/OutsidePaperObjects/AnnData/EpiPlaner.h5ad"
success <- convertSeuratToAnnData(seuratObj=EpiPlaner, condaEnvironment=condaEnvironment, type="rds", assay="RNA", outputFile=planerOutput)

```

